{% load static %}
<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Encargado - UABJB</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body class="dashboard-encargado">
    <div class="header">
        <div class="header-content">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <div class="logo"><i class="fas fa-graduation-cap"></i></div>
                <div>
                    <div class="header-title"><i class="fas fa-user-shield"></i> Dashboard Encargado</div>
                    <div class="header-subtitle">Sistema de Gestión UABJB</div>
                </div>
            </div>
            <div class="header-controls">
                <div class="theme-toggle" onclick="toggleTheme()">
                    <i class="fas fa-moon" id="theme-icon"></i>
                    <span id="theme-text">Modo Oscuro</span>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="dashboard-container">
            <h1 class="dashboard-title"><i class="fas fa-calendar-alt"></i> Bienvenido, Encargado</h1>
            <p class="welcome-text">Gestiona el calendario y las solicitudes del mes actual.</p>
            <div class="navegacion-mes">
                <button class="btn-nav" onclick="cambiarMes(-1)"><i class="fas fa-chevron-left"></i> Anterior</button>
                <span class="titulo-mes" id="titulo-mes">Julio 2025</span>
                <button class="btn-nav" onclick="cambiarMes(1)">Siguiente <i class="fas fa-chevron-right"></i></button>
            </div>
            <div class="calendario-minimalista">
                <table>
                    <thead>
                        <tr class="dias-semana">
                            <th>Dom</th>
                            <th>Lun</th>
                            <th>Mar</th>
                            <th>Mié</th>
                            <th>Jue</th>
                            <th>Vie</th>
                            <th>Sáb</th>
                        </tr>
                    </thead>
                    <tbody id="calendario-body">
                        <!-- El calendario se genera dinámicamente -->
                    </tbody>
                </table>
            </div>
            <div class="dashboard-actions">
                <button class="btn-action" onclick="mostrarModal('agregar')"><i class="fas fa-plus"></i> Agregar Evento</button>
                <a href="{% url 'reportes:generar_reportes' %}" class="btn-action"><i class="fas fa-file-alt"></i> Generar Reportes</a>
                <a href="{% url 'encargados:lista_solicitudes' %}" class="btn-action"><i class="fas fa-list"></i> Ver Solicitudes</a>
                <a href="{% url 'encargados:solicitudes_aceptadas' %}" class="btn-action"><i class="fas fa-list"></i> Solicitudes Aceptadas</a>
                <a href="{% url 'encargados:solicitudes_pendientes' %}" class="btn-action"><i class="fas fa-list"></i> Solicitudes Pendientes</a>
                <a href="{% url 'logout' %}" class="btn-action"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a>
            </div>
            <!-- Modal para agregar/editar evento -->
            <div id="modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header" id="modal-title">Agregar Evento</div>
                    <form id="evento-form">
                        <div class="modal-form-group">
                            <label class="modal-label" for="nombre">Nombre del Evento:</label>
                            <input type="text" id="nombre" class="modal-input" required>
                        </div>
                        <div class="modal-form-group">
                            <label class="modal-label" for="espacio">Espacio:</label>
                            <input type="text" id="espacio" class="modal-input" required>
                        </div>
                        <div class="modal-form-group">
                            <label class="modal-label" for="color">Color:</label>
                            <input type="color" id="color" class="modal-input" value="#1e3a8a">
                        </div>
                        <div class="modal-buttons">
                            <button type="submit" class="modal-btn modal-btn-save">Guardar</button>
                            <button type="button" class="modal-btn modal-btn-cancel" onclick="cerrarModal()">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script src="{% static 'js/scripts.js' %}"></script>
</body>
</html>